import{l as k,q as g,U as b,al as S,p as O,S as L,r as q,Z as I,T as E,c as M,Y as N,a6 as R,_ as $,v as T,C as P,x as p,y as v,L as h,H as U}from"./index-462096f9.js";import{m as Y,u as H,a as C}from"./VOverlay-b7f40ac3.js";import{a as V,g as K,n as W,d as X,s as B,b as j,f as z}from"./forwardRefs-e658ad70.js";import{n as Z,r as G,p as J,o as w}from"./VBtn-42c2cdc8.js";import{d as Q,e as tt,f as et,V as at}from"./VCard-cf8e7570.js";import"./VResponsive-ca61ecf9.js";import{c as ot}from"./VImg-96b44f86.js";const nt=ot("v-spacer","div","VSpacer"),st={props:{buttonOpenText:String,buttonOkText:String,buttonKoText:String,title:String,description:String,buttonBg:String,icon:String},data(){return{dialog:!1}},methods:{agree(){this.dialog=!1,this.$emit("agree")}}};const it=O({target:[Object,Array]},"v-dialog-transition"),rt=k()({name:"VDialogTransition",props:it(),setup(a,c){let{slots:t}=c;const u={onBeforeEnter(e){e.style.pointerEvents="none",e.style.visibility="hidden"},async onEnter(e,s){var d;await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>requestAnimationFrame(l)),e.style.visibility="";const{x:i,y:m,sx:r,sy:o,speed:n}=_(a.target,e),f=V(e,[{transform:`translate(${i}px, ${m}px) scale(${r}, ${o})`,opacity:0},{}],{duration:225*n,easing:X});(d=D(e))==null||d.forEach(l=>{V(l,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*n,easing:B})}),f.finished.then(()=>s())},onAfterEnter(e){e.style.removeProperty("pointer-events")},onBeforeLeave(e){e.style.pointerEvents="none"},async onLeave(e,s){var d;await new Promise(l=>requestAnimationFrame(l));const{x:i,y:m,sx:r,sy:o,speed:n}=_(a.target,e);V(e,[{},{transform:`translate(${i}px, ${m}px) scale(${r}, ${o})`,opacity:0}],{duration:125*n,easing:j}).finished.then(()=>s()),(d=D(e))==null||d.forEach(l=>{V(l,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*n,easing:B})})},onAfterLeave(e){e.style.removeProperty("pointer-events")}};return()=>a.target?g(S,b({name:"dialog-transition"},u,{css:!1}),t):g(S,{name:"dialog-transition"},t)}});function D(a){var t;const c=(t=a.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return c&&[...c]}function _(a,c){const t=K(a),u=W(c),[e,s]=getComputedStyle(c).transformOrigin.split(" ").map(F=>parseFloat(F)),[i,m]=getComputedStyle(c).getPropertyValue("--v-overlay-anchor-origin").split(" ");let r=t.left+t.width/2;i==="left"||m==="left"?r-=t.width/2:(i==="right"||m==="right")&&(r+=t.width/2);let o=t.top+t.height/2;i==="top"||m==="top"?o-=t.height/2:(i==="bottom"||m==="bottom")&&(o+=t.height/2);const n=t.width/u.width,f=t.height/u.height,d=Math.max(1,n,f),l=n/d||0,y=f/d||0,x=u.width*u.height/(window.innerWidth*window.innerHeight),A=x>.12?Math.min(1.5,(x-.12)*10+1):1;return{x:r-(e+u.left),y:o-(s+u.top),sx:l,sy:y,speed:A}}const lt=O({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Y({origin:"center center",scrollStrategy:"block",transition:{component:rt},zIndex:2400})},"VDialog"),ct=k()({name:"VDialog",props:lt(),emits:{"update:modelValue":a=>!0},setup(a,c){let{slots:t}=c;const u=L(a,"modelValue"),{scopeId:e}=H(),s=q();function i(r){var f,d;const o=r.relatedTarget,n=r.target;if(o!==n&&((f=s.value)!=null&&f.contentEl)&&((d=s.value)!=null&&d.globalTop)&&![document,s.value.contentEl].includes(n)&&!s.value.contentEl.contains(n)){const l=R(s.value.contentEl);if(!l.length)return;const y=l[0],x=l[l.length-1];o===y?x.focus():y.focus()}}I&&E(()=>u.value&&a.retainFocus,r=>{r?document.addEventListener("focusin",i):document.removeEventListener("focusin",i)},{immediate:!0}),E(u,async r=>{var o,n;await N(),r?(o=s.value.contentEl)==null||o.focus({preventScroll:!0}):(n=s.value.activatorEl)==null||n.focus({preventScroll:!0})});const m=M(()=>b({"aria-haspopup":"dialog","aria-expanded":String(u.value)},a.activatorProps));return Z(()=>{const r=C.filterProps(a);return g(C,b({ref:s,class:["v-dialog",{"v-dialog--fullscreen":a.fullscreen,"v-dialog--scrollable":a.scrollable},a.class],style:a.style},r,{modelValue:u.value,"onUpdate:modelValue":o=>u.value=o,"aria-modal":"true",activatorProps:m.value,role:"dialog"},e),{activator:t.activator,default:function(){for(var o=arguments.length,n=new Array(o),f=0;f<o;f++)n[f]=arguments[f];return g(G,{root:"VDialog"},{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t,...n)]}})}})}),z({},s)}});function ut(a,c,t,u,e,s){return T(),P(ct,{modelValue:e.dialog,"onUpdate:modelValue":c[1]||(c[1]=i=>e.dialog=i),persistent:"",width:"auto"},{activator:p(({props:i})=>[g(w,b({class:`ma-2 ${t.buttonBg}`},i),{default:p(()=>[t.icon?(T(),P(J,{key:0},{default:p(()=>[v(h(t.icon),1)]),_:1})):U("",!0),v(" "+h(t.buttonOpenText),1)]),_:2},1040,["class"])]),default:p(()=>[g(at,{class:"pa-2"},{default:p(()=>[g(Q,{class:"text-h5 text-center text-wrap"},{default:p(()=>[v(h(t.title),1)]),_:1}),g(tt,null,{default:p(()=>[v(h(t.description),1)]),_:1}),g(et,null,{default:p(()=>[g(nt),g(w,{variant:"text",onClick:c[0]||(c[0]=i=>e.dialog=!1)},{default:p(()=>[v(h(t.buttonKoText),1)]),_:1}),g(w,{class:"bg-red",variant:"text",onClick:s.agree},{default:p(()=>[v(h(t.buttonOkText),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const yt=$(st,[["render",ut]]);export{yt as M,rt as V};

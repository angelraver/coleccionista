import{ac as w,ad as k,ae as U,_ as b,v as r,H as p,F as y,G as g,z as n,q as e,x as s,I as f,J as E,w as c,Z as C,E as N,B,K as m,y as I}from"./index-38bd3cc0.js";import{I as T}from"./Item-b70f44d3.js";import{V as D,a as z}from"./VList-edca5a6f.js";import{V,I as R,g as j}from"./VAvatar-d2c1006d.js";import{o as h,p as v}from"./VBtn-f5dd6058.js";import{C as q}from"./Collection-9f4c18f6.js";import{V as F}from"./VBreadcrumbs-57113652.js";import{b as S,c as $,V as d,a as u}from"./VRow-0bee3a9c.js";import"./index-7114f3be.js";import"./ssrBoot-c5e65d15.js";const A={props:{idCollection:{type:Number,required:!0},idUser:{type:Number,required:!0}},data(){return{loading:!1,items:[],coverUrl:w}},methods:{randomIcon(){return k()},randomColor(){return U().name},async fetchItems(){this.loading=!0;try{this.items=await T.fetch(this.idUser,null,this.idCollection)}catch(t){console.error(t)}finally{this.loading=!1}}},async mounted(){this.items=[],await this.fetchItems()}};function G(t,l,L,x,o,a){return r(),p(f,null,[y(n("p",null,"La colección está vacía.",512),[[g,o.items.length<1]]),y(e(D,{lines:"two"},{default:s(()=>[(r(!0),p(f,null,E(o.items,i=>(r(),c(z,{key:i.id,title:i.title},{prepend:s(()=>[i.cover?(r(),c(V,{key:0,image:o.coverUrl+i.cover,size:"75"},null,8,["image"])):C("",!0),i.idigdb?C("",!0):(r(),c(V,{key:1,color:a.randomColor(),icon:a.randomIcon()},null,8,["color","icon"]))]),append:s(()=>[e(h,{color:"grey-lighten-1",icon:"mdi-information",variant:"text",onClick:_=>t.$router.push({name:"Item",params:{id:i.id}})},null,8,["onClick"])]),_:2},1032,["title"]))),128))]),_:1},512),[[g,o.items.length>0]])],64)}const H=b(A,[["render",G]]),J={components:{ItemList:H},data(){var t;return{id:parseInt(this.$route.params.id+""),idUser:parseInt(((t=N())==null?void 0:t.id)+""),loading:!1,items:[],collection:{},itemTypes:R,itemTypeLabel:""}},methods:{async fetchCollection(){this.loading=!0;try{const t=await q.fetch(this.idUser,this.id);this.collection=t[0]}catch(t){console.error(t)}finally{this.loading=!1}}},async mounted(){await this.fetchCollection(),this.itemTypeLabel=j(this.collection.iditemtype)}},K={class:"text-h4 font-weight-bold text-center"},M={class:"ma-2"},O={class:"ma-2"};function Z(t,l,L,x,o,a){const i=B("ItemList");return r(),p(f,null,[e(F,{items:["Colecciones",o.collection.name]},null,8,["items"]),e(S,null,{default:s(()=>[e($,{class:"text-center"},{default:s(()=>[e(d,{class:"d-flex align-center justify-center"},{default:s(()=>[e(u,null,{default:s(()=>[n("h1",K,m(o.collection.name),1),n("p",M,m(o.collection.itemscount)+" ítems",1),n("p",O,m(o.itemTypeLabel),1),e(h,{onClick:l[0]||(l[0]=_=>t.$router.push({name:"ItemNew",params:{idCollection:o.collection.id}})),class:"bg-amber mt-2"},{default:s(()=>[e(v,{icon:"mdi-plus",size:"large",start:""}),I(" Nuevo item ")]),_:1})]),_:1})]),_:1}),e(d,{justify:"center"},{default:s(()=>[e(u,null,{default:s(()=>[e(i,{"id-collection":o.id,"id-user":o.idUser},null,8,["id-collection","id-user"])]),_:1})]),_:1}),e(d,{justify:"center"},{default:s(()=>[e(u,null,{default:s(()=>[e(h,{onClick:l[1]||(l[1]=_=>t.$router.push({name:"CollectionEdit",params:{id:o.collection.id}})),class:"bg-amber mt-4"},{default:s(()=>[e(v,{icon:"mdi-pencil",size:"large"}),I(" Editar ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const re=b(J,[["render",Z]]);export{re as default};

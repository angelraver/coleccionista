import{ac as L,ad as k,ae as U,_ as b,v as r,H as p,F as g,G as y,z as n,q as e,x as s,I as f,J as E,w as c,Z as C,E as N,B,K as m,y as I}from"./index-573eb4f5.js";import{I as T}from"./Item-93eb4cb0.js";import{V as D,a as z}from"./VList-aa8fd6b1.js";import{V,I as R,g as j}from"./VAvatar-756a34bc.js";import{o as h,p as v}from"./VBtn-5c1037b7.js";import{C as q}from"./Collection-fb203b04.js";import{V as F}from"./VBreadcrumbs-c0c85e9c.js";import{b as $,c as S,V as d,a as u}from"./VRow-47c118a5.js";import"./index-7d3b2192.js";import"./ssrBoot-22dd81ae.js";const A={props:{idCollection:{type:Number,required:!0},idUser:{type:Number,required:!0}},data(){return{loading:!1,items:[],coverUrl:L}},methods:{randomIcon(){return k()},randomColor(){return U().name},async fetchItems(){this.loading=!0;try{this.items=await T.fetch(this.idUser,null,this.idCollection)}catch(t){console.error(t)}finally{this.loading=!1}}},async mounted(){this.items=[],await this.fetchItems()}};function G(t,l,x,w,o,a){return r(),p(f,null,[g(n("p",null,"La colección está vacía.",512),[[y,o.items.length<1]]),g(e(D,{lines:"two"},{default:s(()=>[(r(!0),p(f,null,E(o.items,i=>(r(),c(z,{key:i.id,title:i.title},{prepend:s(()=>[i.cover?(r(),c(V,{key:0,image:o.coverUrl+i.cover,size:"75"},null,8,["image"])):C("",!0),i.idigdb?C("",!0):(r(),c(V,{key:1,color:a.randomColor(),icon:a.randomIcon()},null,8,["color","icon"]))]),append:s(()=>[e(h,{color:"grey-lighten-1",icon:"mdi-information",variant:"text",onClick:_=>t.$router.push({name:"Item",params:{id:i.id}})},null,8,["onClick"])]),_:2},1032,["title"]))),128))]),_:1},512),[[y,o.items.length>0]])],64)}const H=b(A,[["render",G]]),J={components:{ItemList:H},data(){var t;return{id:parseInt(this.$route.params.id+""),idUser:parseInt(((t=N())==null?void 0:t.id)+""),loading:!1,items:[],collection:{},itemTypes:R,itemTypeLabel:""}},methods:{async fetchCollection(){this.loading=!0;try{const t=await q.fetch(this.idUser,this.id);this.collection=t[0]}catch(t){console.error(t)}finally{this.loading=!1}}},async mounted(){await this.fetchCollection(),this.itemTypeLabel=j(this.collection.iditemtype)}},K={class:"text-h4 font-weight-bold text-center"},O={class:"ma-4"},Z={class:"ma-4"};function M(t,l,x,w,o,a){const i=B("ItemList");return r(),p(f,null,[e(F,{items:["Colecciones",o.collection.name]},null,8,["items"]),e($,null,{default:s(()=>[e(S,{class:"text-center"},{default:s(()=>[e(d,{class:"d-flex align-center justify-center"},{default:s(()=>[e(u,null,{default:s(()=>[n("h1",K,m(o.collection.name),1),n("p",O,m(o.collection.itemscount)+" ítems",1),n("p",Z,m(o.itemTypeLabel),1),e(h,{onClick:l[0]||(l[0]=_=>t.$router.push({name:"ItemNew",params:{idCollection:o.collection.id}})),class:"bg-green mt-4"},{default:s(()=>[e(v,{icon:"mdi-plus",size:"large",start:""}),I(" Nuevo item ")]),_:1})]),_:1})]),_:1}),e(d,{justify:"center"},{default:s(()=>[e(u,null,{default:s(()=>[e(i,{"id-collection":o.id,"id-user":o.idUser},null,8,["id-collection","id-user"])]),_:1})]),_:1}),e(d,{justify:"center"},{default:s(()=>[e(u,null,{default:s(()=>[e(h,{onClick:l[1]||(l[1]=_=>t.$router.push({name:"CollectionEdit",params:{id:o.collection.id}})),class:"bg-amber mt-4"},{default:s(()=>[e(v,{icon:"mdi-pencil",size:"large"}),I(" Editar ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const re=b(J,[["render",M]]);export{re as default};
